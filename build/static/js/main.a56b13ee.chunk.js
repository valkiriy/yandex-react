(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{11:function(e,t,n){e.exports={list:"burger-constructor_list__2lXaw",list_ingredients:"burger-constructor_list_ingredients__2vJVZ",empty_ingredient_wrap:"burger-constructor_empty_ingredient_wrap__3UGyi",empty_ingredient:"burger-constructor_empty_ingredient__1p6F8",empty_ingredient_list:"burger-constructor_empty_ingredient_list__2ozYA",empty_ingredient_top:"burger-constructor_empty_ingredient_top__16IoL burger-constructor_empty_ingredient__1p6F8",empty_ingredient_bottom:"burger-constructor_empty_ingredient_bottom__3H3mf burger-constructor_empty_ingredient__1p6F8",item:"burger-constructor_item__9YfeG",content:"burger-constructor_content__3FA1X mt-25",summary:"burger-constructor_summary__1USSk mt-10"}},13:function(e,t,n){e.exports={header:"app-header_header__1iHLW p-4",menu:"app-header_menu__3SLom",menuLeft:"app-header_menuLeft__3ZJFn",menuItem:"app-header_menuItem__29m4R",menuRight:"app-header_menuRight__2zKF9",link:"app-header_link__2y8TU text text_type_main-default p-5",active:"app-header_active__1gFZ7"}},14:function(e,t,n){e.exports={content:"ingredient-details_content__WdJuD pt-10 pr-10 pl-10 pb-15",header:"ingredient-details_header__2JP_g text text_type_main-large",name:"ingredient-details_name__3OKTo text text_type_main-medium pt-4",image:"ingredient-details_image__H2-xP",grid:"ingredient-details_grid__s1g1X pt-8 text text_type_main-default",grid_item:"ingredient-details_grid_item__1oL-R",grid_item_value:"ingredient-details_grid_item_value__2I5cr text_type_digits-default"}},17:function(e,t,n){e.exports={content:"login_content__28Q5n",title:"login_title__PmNb0 text text_type_main-medium",field:"login_field__3XxLq",link:"login_link__2bcVJ"}},188:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(34),a=n.n(r),s=(n(98),n(4)),o=n(9),l=n(2),d=n(7);function u(e,t){return fetch(e,t).then(j)}function j(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}function m(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=(n=n||{}).expires;if("number"==typeof c&&c){var i=new Date;i.setTime(i.getTime()+1e3*c),c=n.expires=i}c&&"toUTCString"in c&&(n.expires=c.toUTCString()),t&&(t=encodeURIComponent(t));var r=e+"="+t;for(var a in n){r+="; "+a;var s=n[a];!0!==s&&(r+="="+s)}document.cookie=r}function b(e){_(e,null,{expires:-1})}var p="https://norma.nomoreparties.space/api";var O=function(e){return(t=e.email,n=e.password,u("".concat(p,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})})).then((function(e){return e&&e.success?Promise.resolve(e):Promise.reject()})).catch((function(e){console.log(e)}));var t,n},x=function(e){return(t=e.email,n=e.password,c=e.name,u("".concat(p,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,name:c})})).then((function(e){return e&&e.success?Promise.resolve(e):Promise.reject()})).catch((function(e){console.log(e)}));var t,n,c},f=function(){return u("".concat(p,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m("refresh_token")})}).then((function(e){return e&&e.success?Promise.resolve():Promise.reject()})).catch((function(e){console.log(e)}))},h=function(){return u("".concat(p,"/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m("access_token")}}).then((function(e){return e&&e.success?Promise.resolve(e):Promise.reject(e)})).catch((function(e){console.log(e)}))},v=function(e){return function(e){return u("".concat(p,"/auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m("access_token")},body:JSON.stringify(e)})}(e).then((function(e){return e&&e.success?Promise.resolve(e):Promise.reject()})).catch((function(e){console.log(e)}))},g=function(){return u("".concat(p,"/auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:m("refresh_token")})}).then((function(e){return e&&e.success?Promise.resolve(e):Promise.reject()})).catch((function(e){console.log(e)}))},y=n(0),N=Object(c.createContext)(null),w=function(e){var t=e.children,n=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],r=function(e){return x(e).then((function(e){_("access_token",e.accessToken?e.accessToken.split("Bearer ")[1]:null),_("refresh_token",e.refreshToken||null),i(Object(l.a)({},e.user))}))},a=function(e){return O(e).then((function(e){_("access_token",e.accessToken?e.accessToken.split("Bearer ")[1]:null),_("refresh_token",e.refreshToken||null),i(Object(l.a)({},e.user))}))},s=function(){return f().then((function(){b("access_token"),b("refresh_token"),i(null)}))},o=function(){return m("access_token")?h().then((function(e){i(Object(l.a)({},e.user))})).catch((function(e){return j()})):Promise.reject()},u=function(e){return v(e).then((function(e){i(Object(l.a)({},e.user))}))},j=function(){return g().then((function(e){_("access_token",e.accessToken?e.accessToken.split("Bearer ")[1]:null),_("refresh_token",e.refreshToken||null)})).catch((function(){s()}))};n||o().catch((function(){}));return{register:r,login:a,logout:s,loadUserInfo:o,saveUserInfo:u,updateToken:j,user:n}}();return Object(y.jsx)(N.Provider,{value:n,children:t})},E=function(){return Object(c.useContext)(N)};var k=n(13),C=n.n(k),S=n(5);function T(){return Object(y.jsx)("header",{className:C.a.header,children:Object(y.jsxs)("menu",{className:C.a.menu,children:[Object(y.jsxs)("div",{className:"".concat(C.a.menuLeft," ").concat(C.a.menuItem),children:[Object(y.jsxs)(S.c,{to:{pathname:"/"},exact:!0,className:C.a.link,activeClassName:C.a.active,children:[Object(y.jsx)(s.BurgerIcon,{type:"primary"}),Object(y.jsx)("span",{className:"pl-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(y.jsxs)(S.c,{to:{pathname:"/feed"},className:C.a.link,activeClassName:C.a.active,children:[Object(y.jsx)(s.ListIcon,{type:"primary"}),Object(y.jsx)("span",{className:"pl-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(y.jsx)(S.c,{to:{pathname:"/"},className:"".concat(C.a.menuItem),children:Object(y.jsx)(s.Logo,{})}),Object(y.jsx)("div",{className:"".concat(C.a.menuRight," ").concat(C.a.menuItem),children:Object(y.jsxs)(S.c,{"data-class":"go-to-login",to:{pathname:"/profile"},className:C.a.link,activeClassName:C.a.active,children:[Object(y.jsx)(s.ProfileIcon,{type:"primary"}),Object(y.jsx)("span",{className:"pl-2",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})}var I,D,R=n(31),P=n(20),A=n.n(P),B=n(43);!function(e){e.BUN="bun",e.MAIN="main",e.SAUCE="sauce"}(I||(I={})),function(e){e.CREATED="created",e.PENDING="pending",e.DONE="done"}(D||(D={}));var L=function(){return Object(B.b)()},U=B.c,G=n(194);function F(e){var t=e.item,n=Object(o.h)(),c=U((function(e){return e.burger})),i=c.bun,r=c.ingredients,a=[i,i].concat(Object(R.a)(r)).filter((function(e){return e})).filter((function(e){return e&&e._id===t._id})).length,l=Object(G.a)({type:"ingredient",item:t}),u=Object(d.a)(l,2)[1];return Object(y.jsx)("div",{className:A.a.item,ref:u,children:Object(y.jsxs)(S.b,{to:{pathname:"/ingredients/".concat(t._id),state:{background:n}},"data-class":"ingredient-".concat(t._id),className:A.a.link,children:[a>0&&Object(y.jsx)(s.Counter,{count:a,size:"default"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{className:A.a.item_image,src:t.image,alt:t.name}),Object(y.jsxs)("div",{className:A.a.item_price,children:[Object(y.jsx)("span",{children:t.price})," ",Object(y.jsx)(s.CurrencyIcon,{type:"primary"})]})]}),Object(y.jsx)("p",{className:A.a.item_name,children:t.name})]})})}function M(e){var t=e.items.map((function(e,t){return Object(y.jsx)(F,{item:e},e._id)}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:A.a.list,children:t})})}function J(){var e=U((function(e){return e.ingredients})).items,t=i.a.useState("bun"),n=Object(d.a)(t,2),r=n[0],a=n[1],o=Object(c.useRef)(null),l=Object(c.useRef)(null),u=Object(c.useRef)(null),j=function(){o.current&&o.current.getBoundingClientRect().y>0?a("bun"):l.current&&l.current.getBoundingClientRect().y>0?a("sauce"):a("main")};return Object(c.useEffect)((function(){return window.addEventListener("scroll",j,!0),function(){window.removeEventListener("scroll",j,!0)}}),[]),Object(y.jsxs)("div",{className:A.a.content,children:[Object(y.jsx)("h1",{className:"pt-10 pb-5 text text_type_main-large",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(y.jsxs)("div",{className:A.a.tab,children:[Object(y.jsx)(s.Tab,{value:"bun",active:"bun"===r,onClick:a,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(y.jsx)(s.Tab,{value:"sauce",active:"sauce"===r,onClick:a,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(y.jsx)(s.Tab,{value:"main",active:"main"===r,onClick:a,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(y.jsxs)("div",{className:A.a.list_wrap,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"text text_type_main-medium pb-6",ref:o,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(y.jsx)(M,{items:e.filter((function(e){return e.type===I.BUN}))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"text text_type_main-medium  pt-10 pb-6",ref:l,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(y.jsx)(M,{items:e.filter((function(e){return e.type===I.SAUCE}))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{className:"text text_type_main-medium  pt-10 pb-6",ref:u,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(y.jsx)(M,{items:e.filter((function(e){return e.type===I.MAIN}))})]})]})]})}var q=n(11),H=n.n(q),W="SET_BUN",z="ADD_INGREDIENT",X="REMOVE_INGREDIENT",V="SET_INGREDIENT_INDEX",Y=n(195);function Z(e){var t=e.pos,n=void 0===t?void 0:t,i=e.item,r=e.index,a=Object(c.useRef)(null),o=L(),l=Object(Y.a)({accept:"sort_ingredient",hover:function(e,t){if(a.current&&t.isOver()){var n=e.index,c=r;if(n!==c){var i=a.current.getBoundingClientRect(),s=(i.bottom-i.top)/2,l=t.getClientOffset();if(l){var d=l.y-i.top;n<c&&d<s||n>c&&d>s||(e.index=c,o({type:V,dragIndex:n,hoverIndex:c}))}}}}}),u=Object(d.a)(l,2)[1],j=Object(G.a)({type:"sort_ingredient",item:{index:r},collect:function(e){return{isDragging:e.isDragging()}}}),m=Object(d.a)(j,2),_=m[0].isDragging,b=m[1],p=_?0:1,O=i.name;return i.type===I.BUN&&(O+="top"===n?" (\u0432\u0432\u0435\u0440\u0445)":"bottom"===n?" (\u043d\u0438\u0437)":""),b(u(a)),Object(y.jsxs)("div",{className:H.a.item,style:{opacity:p},ref:a,children:[void 0===n?Object(y.jsx)(s.DragIcon,{type:"primary"}):null,Object(y.jsx)(s.ConstructorElement,{type:n,isLocked:void 0!==n,text:O,price:i.price,thumbnail:i.image,handleClose:function(){return o({type:X,index:r})}})]})}function Q(e){var t=e.items,n=e.bun;return Object(y.jsxs)("div",{className:H.a.list,children:[n&&Object(y.jsx)(Z,{pos:"top",item:n,index:0},0+n._id),!n&&Object(y.jsx)("div",{"data-class":"place-bun-top",className:H.a.empty_ingredient_wrap,children:Object(y.jsx)("div",{className:H.a.empty_ingredient_top,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"})}),Object(y.jsxs)("div",{"data-class":"place-ingredients",className:H.a.list_ingredients,children:[0===t.length&&Object(y.jsx)("div",{className:H.a.empty_ingredient_wrap,children:Object(y.jsx)("div",{className:H.a.empty_ingredient_list,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})}),t.map((function(e,t){return Object(y.jsx)(Z,{pos:void 0,item:e,index:t},e.uuid)}))]}),n&&Object(y.jsx)(Z,{pos:"bottom",item:n,index:999},999+n._id),!n&&Object(y.jsx)("div",{className:H.a.empty_ingredient_wrap,children:Object(y.jsx)("div",{className:H.a.empty_ingredient_bottom,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"})})]})}var K=n(56),$=n.n(K),ee=n(88),te=n.n(ee);function ne(e){var t=e.onClose;return Object(y.jsx)("div",{onClick:t,className:te.a.modal_overlay})}var ce=document.getElementById("modal"),ie=function(e){var t=e.children,n=e.onClose;return i.a.useEffect((function(){function e(e){"Escape"===e.key&&n()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),ce&&a.a.createPortal(Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:$.a.modal,onKeyDown:n,children:[Object(y.jsxs)("div",{className:$.a.content,tabIndex:0,children:[Object(y.jsx)("div",{className:$.a.close,"data-class":"modal-close-btn",onClick:n,children:Object(y.jsx)(s.CloseIcon,{type:"primary"})}),t]}),Object(y.jsx)(ne,{onClose:n})]})}),ce)},re=n(32),ae=n.n(re);function se(){var e=U((function(e){return e.order})).info;return Object(y.jsxs)("div",{className:ae.a.content,children:[Object(y.jsx)("div",{className:ae.a.order_num,children:null===e||void 0===e?void 0:e.number}),Object(y.jsx)("div",{className:ae.a.order_num_description,children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(y.jsxs)("div",{className:ae.a.order_status_icon,children:[" ",Object(y.jsx)(s.CheckMarkIcon,{type:"primary"})]}),Object(y.jsx)("div",{className:ae.a.order_status,children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(y.jsx)("div",{className:ae.a.order_status_description,children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})}var oe="SEND_ORDER_REQUEST",le="SEND_ORDER_SUCCESS",de="SEND_ORDER_FAILED",ue="SHOW_MODAL_INFO_ORDER",je="HIDE_MODAL_INFO_ORDER",me=function(e){return function(t){t({type:oe}),function(e){return u("".concat(p,"/orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m("access_token")},body:JSON.stringify({ingredients:e})})}(e.map((function(e){return e._id}))).then((function(e){e&&e.success?(t({type:le,info:e.order}),t({type:ue})):t({type:de})})).catch((function(){t({type:de})}))}};function _e(){var e=E(),t=Object(o.g)(),n=U((function(e){return e.burger})),c=n.bun,i=n.ingredients,r=U((function(e){return e.order})).show_info,a=L(),u=Object(Y.a)({accept:"ingredient",drop:function(e){e.type===I.BUN?a({type:W,ingredient:e}):a(function(e){return{type:z,ingredient:Object(l.a)(Object(l.a)({},e),{},{uuid:([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))})}}(e))}}),j=Object(d.a)(u,2)[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:H.a.content,ref:j,children:[Object(y.jsx)(Q,{items:i,bun:c}),Object(y.jsxs)("div",{className:H.a.summary,children:[Object(y.jsxs)("span",{className:"text text_type_digits-medium",children:[i.reduce((function(e,t){return e+t.price}),0)+(c?2*c.price:0)," ",Object(y.jsx)(s.CurrencyIcon,{type:"primary"})]}),Object(y.jsx)("span",{children:Object(y.jsx)(s.Button,{"data-class":"order-btn",htmlType:"button",type:"primary",onClick:function(n){return function(n){n.preventDefault(),e&&e.user?a(me([c].concat(Object(R.a)(i),[c]))):t.replace("/login",{r:"/"})}(n)},size:"large",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})})]})]}),r&&Object(y.jsx)(ie,{onClose:function(){return a({type:je})},children:Object(y.jsx)(se,{})})]})}var be=n(193),pe=n(92),Oe=n(70),xe=n.n(Oe);var fe=function(){return Object(y.jsx)("main",{className:"".concat(xe.a.main," ").concat(xe.a.container),children:Object(y.jsxs)(be.a,{backend:pe.a,children:[Object(y.jsx)(J,{}),Object(y.jsx)(_e,{})]})})},he=n(18),ve=n(44),ge=n.n(ve);var ye=function(){var e=E(),t=Object(o.g)(),n=Object(c.useState)({email:""}),i=Object(d.a)(n,2),r=i[0],a=i[1],j=Object(c.useCallback)((function(e){var n;e.preventDefault(),(n=r.email,u("".concat(p,"/password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).then((function(e){e&&e.success?t.replace({pathname:"/reset-password",state:{code_send:!0}}):alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}),[r]);return e&&e.user&&t.replace("/"),Object(y.jsx)("div",{className:"page-main-content",children:Object(y.jsx)("div",{className:ge.a.content,children:Object(y.jsxs)("form",{onSubmit:j,children:[Object(y.jsx)("div",{className:ge.a.title,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(y.jsx)("div",{className:"pt-6 ".concat(ge.a.field),children:Object(y.jsx)(s.Input,{type:"email",value:r.email,onChange:function(e){a(Object(l.a)(Object(l.a)({},r),{},Object(he.a)({},e.target.name,e.target.value)))},name:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail"})}),Object(y.jsx)("div",{className:"pt-6",children:Object(y.jsx)(s.Button,{htmlType:"submit",type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})}),Object(y.jsxs)("div",{className:"pt-20 text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(y.jsx)(S.b,{to:"/login",className:ge.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})},Ne=n(14),we=n.n(Ne);function Ee(e){var t=e.ingredient;return Object(y.jsxs)("div",{className:we.a.content,children:[Object(y.jsx)("div",{className:we.a.header,children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(y.jsx)("div",{className:we.a.image,children:Object(y.jsx)("img",{src:t.image_large,alt:t.name})}),Object(y.jsx)("p",{className:we.a.name,children:t.name}),Object(y.jsxs)("div",{className:we.a.grid,children:[Object(y.jsxs)("div",{className:we.a.grid_item,children:[Object(y.jsx)("span",{children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(y.jsx)("div",{className:we.a.grid_item_value,children:t.calories})]}),Object(y.jsxs)("div",{className:we.a.grid_item,children:[Object(y.jsx)("span",{children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(y.jsx)("div",{className:we.a.grid_item_value,children:t.proteins})]}),Object(y.jsxs)("div",{className:we.a.grid_item,children:[Object(y.jsx)("span",{children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(y.jsx)("div",{className:we.a.grid_item_value,children:t.fat})]}),Object(y.jsxs)("div",{className:we.a.grid_item,children:[Object(y.jsx)("span",{children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(y.jsx)("div",{className:we.a.grid_item_value,children:t.carbohydrates})]})]})]})}var ke=n(90),Ce=n.n(ke);var Se=function(){var e=U((function(e){return e.ingredients})).items,t=Object(o.i)().id,n=e.find((function(e){return e._id===t}));return Object(y.jsx)("div",{className:Ce.a.center,children:n?Object(y.jsx)(Ee,{ingredient:n}):"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e \u0434\u0430\u043d\u043d\u044b\u0435"})},Te=n(17),Ie=n.n(Te);var De=function(){var e=E(),t=Object(o.g)(),n=Object(o.h)(),i=Object(c.useState)({email:"",password:""}),r=Object(d.a)(i,2),a=r[0],u=r[1],j=function(e){u(Object(l.a)(Object(l.a)({},a),{},Object(he.a)({},e.target.name,e.target.value)))},m=Object(c.useCallback)((function(c){c.preventDefault(),e&&e.login(a).then((function(){t.replace(n.state.f?n.state.f:"/")})).catch((function(){alert("error login")}))}),[a,e,t,n]);return Object(c.useEffect)((function(){e&&e.user&&t.replace("/")}),[e]),Object(y.jsx)("div",{className:"page-main-content",children:Object(y.jsx)("div",{className:Ie.a.content,children:Object(y.jsxs)("form",{onSubmit:m,children:[Object(y.jsx)("div",{className:Ie.a.title,children:"\u0412\u0445\u043e\u0434"}),Object(y.jsx)("div",{className:"pt-6 ".concat(Ie.a.field),children:Object(y.jsx)(s.Input,{"data-class":"input-email",type:"email",value:a.email,onChange:j,name:"email",placeholder:"E-mail"})}),Object(y.jsx)("div",{className:"pt-6 ".concat(Ie.a.field),children:Object(y.jsx)(s.PasswordInput,{"data-class":"input-password",value:a.password,onChange:j,name:"password"})}),Object(y.jsx)("div",{className:"pt-6",children:Object(y.jsx)(s.Button,{"data-class":"btn-login",htmlType:"submit",type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(y.jsxs)("div",{className:"pt-20 text text_type_main-default",children:["\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? ",Object(y.jsx)(S.b,{to:"/register",className:Ie.a.link,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(y.jsxs)("div",{className:"pt-4 text text_type_main-default",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(y.jsx)(S.b,{to:"/forgot-password",className:Ie.a.link,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})})})},Re=n(71),Pe=["children"],Ae=["loadUserInfo"];function Be(e){var t=e.children,n=Object(Re.a)(e,Pe),i=E(),r=i.loadUserInfo,a=Object(Re.a)(i,Ae),s=Object(c.useState)(!1),u=Object(d.a)(s,2),j=u[0],m=u[1];return Object(c.useEffect)((function(){a.user?m(!0):r().finally((function(){m(!0)}))}),[]),j?Object(y.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){var n=e.location;return a.user?t:Object(y.jsx)(o.a,{to:{pathname:"/login",state:{f:n}}})}})):null}var Le=n(8),Ue=n.n(Le);var Ge=function(){return Object(y.jsx)("menu",{className:Ue.a.menu,children:Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)(S.c,{to:{pathname:"/profile"},exact:!0,className:Ue.a.link,activeClassName:Ue.a.active,children:Object(y.jsx)("span",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})}),Object(y.jsx)("li",{children:Object(y.jsx)(S.c,{to:{pathname:"/profile/orders"},exact:!0,className:Ue.a.link,activeClassName:Ue.a.active,children:Object(y.jsx)("span",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})})}),Object(y.jsx)("li",{children:Object(y.jsx)(S.c,{to:{pathname:"/profile/logout"},exact:!0,className:Ue.a.link,activeClassName:Ue.a.active,children:Object(y.jsx)("span",{children:"\u0412\u044b\u0445\u043e\u0434"})})}),Object(y.jsx)("li",{className:"pt-20 text_type_main-default text_color_inactive",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})})};var Fe=function(){var e=E(),t=Object(c.useState)(!1),n=Object(d.a)(t,2),i=n[0],r=n[1],a=Object(c.useState)({name:e&&e.user?e.user.name:"",email:e&&e.user?e.user.email:"",password:""}),o=Object(d.a)(a,2),u=o[0],j=o[1],m=function(e){r(!0),j(Object(l.a)(Object(l.a)({},u),{},Object(he.a)({},e.target.name,e.target.value)))};return Object(y.jsx)("div",{children:Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r(!1),e&&e.saveUserInfo(u)},children:[Object(y.jsx)("div",{className:"".concat(Ue.a.field),children:Object(y.jsx)(s.Input,{type:"text",value:u.name,onChange:m,name:"name",placeholder:"\u0418\u043c\u044f"})}),Object(y.jsx)("div",{className:"pt-6 ".concat(Ue.a.field),children:Object(y.jsx)(s.Input,{type:"email",value:u.email,onChange:m,name:"email",placeholder:"E-mail"})}),Object(y.jsx)("div",{className:"pt-6 ".concat(Ue.a.field),children:Object(y.jsx)(s.PasswordInput,{value:u.password,onChange:m,name:"password"})}),!i||Object(y.jsxs)("div",{className:"pt-5",children:[Object(y.jsx)(s.Button,{htmlType:"submit",type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),Object(y.jsx)(s.Button,{htmlType:"button",type:"secondary",onClick:function(){return console.log("cancel"),r(!1),void j({name:e&&e.user?e.user.name:"",email:e&&e.user?e.user.email:"",password:""})},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})},Me=n(29),Je=n.n(Me);function qe(e){var t=e.order,n=e.showStatus,c=void 0!==n&&n,i=U((function(e){return e.ingredients})).items,r=new Date(t.createdAt),a=t.ingredients.reduce((function(e,t){var n=i.find((function(e){return e._id===t}));return n?e+n.price:e}),0);return Object(y.jsxs)("div",{className:Je.a.item,children:[Object(y.jsxs)("div",{className:"text text_type_main-default ".concat(Je.a.info),children:[Object(y.jsxs)("div",{children:["#",t.number]}),Object(y.jsx)("div",{className:Je.a.right,children:r.toLocaleString()})]}),Object(y.jsx)("div",{className:"text text_type_main-medium",children:t.name}),c&&Object(y.jsxs)("div",{className:"text text_type_main-small",children:[D.CREATED===t.status?"\u0421\u043e\u0437\u0434\u0430\u043d":null,D.PENDING===t.status?"\u041e\u0442\u043c\u0435\u043d\u0435\u043d":null,D.DONE===t.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":null]}),Object(y.jsxs)("div",{className:Je.a.info,children:[Object(y.jsx)("div",{className:Je.a.list_ingr,children:t.ingredients.slice(0,5).map((function(e,t){var n=i.find((function(t){return t._id===e}));return n&&Object(y.jsx)("div",{className:Je.a.img_preview,style:{backgroundImage:"url(".concat(n.image_large,")")},children:"\xa0"},n._id+t)}))}),Object(y.jsxs)("div",{className:" ".concat(Je.a.info_price),children:[Object(y.jsx)("span",{className:"text text text_type_digits-default",children:a}),"\xa0",Object(y.jsx)(s.CurrencyIcon,{type:"primary"})]})]})]})}var He="WS_CONNECTION_START",We="WS_CONNECTION_STOP",ze="WS_CONNECTION_SUCCESS",Xe="WS_CONNECTION_ERROR",Ve="WS_GET_MESSAGE",Ye="WS_CONNECTION_CLOSED",Ze=function(e){return{type:He,url:e}},Qe=function(){return{type:We}},Ke=n(35),$e=n.n(Ke);function et(e){var t=e.order,n=U((function(e){return e.ingredients})).items,c=new Date(t.createdAt),i=t.ingredients.reduce((function(e,t){var c=n.find((function(e){return e._id===t}));return c?e+c.price:e}),0);return Object(y.jsxs)("div",{className:"p-10",children:[Object(y.jsxs)("div",{className:"text text_type_digits-default mb-10",children:["#",t.number]}),Object(y.jsx)("div",{className:"text text_type_main-medium mb-3",children:t.name}),Object(y.jsxs)("div",{className:"text text_type_main-default mb-15",children:[D.CREATED===t.status?"\u0421\u043e\u0437\u0434\u0430\u043d":null,D.PENDING===t.status?"\u041e\u0442\u043c\u0435\u043d\u0435\u043d":null,D.DONE===t.status?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":null]}),Object(y.jsx)("div",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(y.jsx)("div",{className:"text text_type_main-default ".concat($e.a.list_items),children:t.ingredients.map((function(e,t){var c=n.find((function(t){return t._id===e}));return c&&Object(y.jsxs)("div",{className:$e.a.item,children:[Object(y.jsxs)("div",{className:$e.a.item_info,children:[Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:$e.a.img_preview,style:{backgroundImage:"url(".concat(c.image_large,")")},children:"\xa0"})}),Object(y.jsx)("div",{children:c.name})]}),Object(y.jsxs)("div",{children:[c.price," \xa0",Object(y.jsx)(s.CurrencyIcon,{type:"primary"})]})]},c._id+t)}))}),Object(y.jsxs)("div",{className:"text text_type_main-small mt-10 ".concat($e.a.footer),children:[Object(y.jsx)("div",{children:c.toLocaleString()}),Object(y.jsxs)("div",{children:[i," \xa0",Object(y.jsx)(s.CurrencyIcon,{type:"primary"})]})]})]})}var tt=function(e){var t=e.listOrders,n=Object(o.i)().id,c=t.find((function(e){return e._id===n}));return Object(y.jsx)("div",{className:Ue.a.info_order,children:c&&Object(y.jsx)(et,{order:c})})};var nt=function(){var e=Object(o.g)(),t=Object(o.i)().id,n=U((function(e){return e.ws})).body.find((function(e){return e._id===t}));return Object(y.jsx)(y.Fragment,{children:n?Object(y.jsx)(ie,{onClose:function(){e.goBack()},children:Object(y.jsx)(et,{order:n})}):""})};var ct=function(){var e,t=U((function(e){return e.ws})).body,n=m("access_token"),i=L();Object(c.useEffect)((function(){return i(Ze("wss://norma.nomoreparties.space/orders?token=".concat(n))),function(){i(Qe())}}),[]);var r=Object(o.h)(),a=null===(e=r.state)||void 0===e?void 0:e.background_my;return Object(y.jsxs)("div",{children:[Object(y.jsxs)(o.d,{location:a||r,children:[Object(y.jsx)(Be,{path:"/profile/orders",exact:!0,children:Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:Ue.a.list_wrap,children:t.map((function(e){return Object(y.jsx)(S.b,{to:{pathname:"/profile/orders/".concat(e._id),state:{background_my:r}},className:Ue.a.link_clear,children:Object(y.jsx)(qe,{showStatus:!0,order:e})},e._id)}))})})}),Object(y.jsx)(Be,{path:"/profile/orders/:id",exact:!0,children:Object(y.jsx)(tt,{listOrders:t})})]}),a&&Object(y.jsx)(o.b,{path:"/profile/orders/:id",children:Object(y.jsx)(nt,{})})]})};var it=function(){var e=E();return Object(c.useEffect)((function(){e&&e.logout()}),[]),Object(y.jsx)(o.a,{to:"/"})};var rt=function(){return Object(y.jsxs)("main",{className:"".concat(Ue.a.main," ").concat(Ue.a.container),children:[Object(y.jsx)("div",{className:Ue.a.menu,children:Object(y.jsx)(Ge,{})}),Object(y.jsx)("div",{className:Ue.a.content,children:Object(y.jsxs)(o.d,{children:[Object(y.jsx)(Be,{path:"/profile",exact:!0,children:Object(y.jsx)(Fe,{})}),Object(y.jsx)(Be,{path:"/profile/orders",children:Object(y.jsx)(ct,{})}),Object(y.jsx)(Be,{path:"/profile/logout",exact:!0,children:Object(y.jsx)(it,{})})]})})]})},at=n(33),st=n.n(at);var ot=function(){var e=E(),t=Object(o.g)(),n=Object(c.useState)({name:"",email:"",password:""}),i=Object(d.a)(n,2),r=i[0],a=i[1],u=function(e){a(Object(l.a)(Object(l.a)({},r),{},Object(he.a)({},e.target.name,e.target.value)))},j=Object(c.useCallback)((function(n){n.preventDefault(),e&&e.register(r).then((function(){t.replace("/")})).catch((function(){alert("error register")}))}),[e,r,t]);return null!==e&&void 0!==e&&e.user&&t.replace(t.location.state.r||"/"),Object(y.jsx)("div",{className:"page-main-content",children:Object(y.jsx)("div",{className:st.a.content,children:Object(y.jsxs)("form",{onSubmit:j,children:[Object(y.jsx)("div",{className:st.a.title,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(y.jsx)("div",{className:"pt-6 ".concat(st.a.field),children:Object(y.jsx)(s.Input,{type:"text",value:r.name,onChange:u,name:"name",placeholder:"\u0418\u043c\u044f"})}),Object(y.jsx)("div",{className:"pt-6 ".concat(st.a.field),children:Object(y.jsx)(s.Input,{type:"email",value:r.email,onChange:u,name:"email",placeholder:"E-mail"})}),Object(y.jsx)("div",{className:"pt-6 ".concat(st.a.field),children:Object(y.jsx)(s.PasswordInput,{value:r.password,onChange:u,name:"password"})}),Object(y.jsx)("div",{className:"pt-6",children:Object(y.jsx)(s.Button,{htmlType:"submit",type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(y.jsxs)("div",{className:"pt-20 text text_type_main-default",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(y.jsx)(S.b,{to:"/login",className:st.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})};var lt=function(){var e=E(),t=Object(o.h)().state,n=Object(o.g)(),i=Object(c.useState)({password:"",code:""}),r=Object(d.a)(i,2),a=r[0],j=r[1],m=function(e){j(Object(l.a)(Object(l.a)({},a),{},Object(he.a)({},e.target.name,e.target.value)))},_=Object(c.useCallback)((function(e){var t,c;e.preventDefault(),(t=a.password,c=a.code,u("".concat(p,"/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,token:c})})).then((function(e){e&&e.success?n.replace({pathname:"/login"}):(console.log(e),alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"))}))}),[a,n]);return e&&e.user&&n.replace("/"),t&&t.hasOwnProperty("code_send")||n.replace("/forgot-password"),Object(y.jsx)("div",{className:"page-main-content",children:Object(y.jsx)("div",{className:Ie.a.content,children:Object(y.jsxs)("form",{onSubmit:_,children:[Object(y.jsx)("div",{className:Ie.a.title,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(y.jsx)("div",{className:"pt-6 ".concat(Ie.a.field),children:Object(y.jsx)(s.PasswordInput,{value:a.password,onChange:m,name:"password"})}),Object(y.jsx)("div",{className:"pt-6 ".concat(Ie.a.field),children:Object(y.jsx)(s.Input,{value:a.code,onChange:m,name:"code"})}),Object(y.jsx)("div",{className:"pt-6",children:Object(y.jsx)(s.Button,{htmlType:"submit",type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(y.jsxs)("div",{className:"pt-20 text text_type_main-default",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(y.jsx)(S.b,{to:"/login",className:Ie.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})},dt=n(23),ut=n.n(dt);var jt=function(e){var t=e.listOrders,n=e.cntAll,c=e.cntToday,i=Object(o.h)();return Object(y.jsxs)("div",{className:"".concat(ut.a.container),children:[Object(y.jsx)("h1",{className:"pt-10 pb-5 text text_type_main-large",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(y.jsxs)("main",{className:"".concat(ut.a.main),children:[Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:ut.a.list_wrap,children:t.map((function(e){return Object(y.jsx)(S.b,{to:{pathname:"/feed/".concat(e._id),state:{background_feed:i}},className:ut.a.link,children:Object(y.jsx)(qe,{order:e})},e._id)}))})}),Object(y.jsxs)("div",{className:ut.a.content,children:[Object(y.jsxs)("div",{className:ut.a.grid_stats,children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"text text_type_main-medium mb-4",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),t.filter((function(e){return e.status===D.DONE})).slice(0,5).map((function(e){return Object(y.jsx)("div",{className:"text text_type_digits-default mb-1",children:e.number},e.number)}))]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),t.filter((function(e){return e.status===D.CREATED})).map((function(e){return Object(y.jsx)("div",{className:"text text_type_digits-default mb-1",children:e.number},e.number)}))]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(y.jsx)("div",{className:"text text_type_digits-large",children:n})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(y.jsx)("div",{className:"text text_type_digits-large",children:c})]})]})]})]})};var mt=function(e){var t=e.listOrders,n=Object(o.i)().id,c=t.find((function(e){return e._id===n}));return Object(y.jsx)("div",{className:ut.a.info_order,children:c&&Object(y.jsx)(et,{order:c})})};var _t=function(){var e,t=L(),n=U((function(e){return e.ws})),i=n.body,r=n.cntAll,a=n.cntToday;Object(c.useEffect)((function(){return t(Ze("wss://norma.nomoreparties.space/orders/all")),function(){t(Qe())}}),[]);var s=Object(o.h)(),l=null===(e=s.state)||void 0===e?void 0:e.background_feed;return Object(y.jsx)("div",{children:Object(y.jsxs)(o.d,{location:l||s,children:[Object(y.jsx)(o.b,{path:"/feed/:id",exact:!0,children:Object(y.jsx)(mt,{listOrders:null!==i&&void 0!==i?i:[]})}),Object(y.jsx)(o.b,{path:"/feed",children:Object(y.jsx)(jt,{listOrders:i,cntToday:a,cntAll:r})})]})})},bt="GET_INGREDIENTS_REQUEST",pt="GET_INGREDIENTS_SUCCESS",Ot="GET_INGREDIENTS_FAILED",xt=function(){return function(e){e({type:bt}),u("".concat(p,"/ingredients"),{method:"GET"}).then((function(t){t&&t.success?e({type:pt,items:t.data}):e({type:Ot})})).catch((function(){e({type:Ot})}))}};var ft=function(){var e=Object(o.g)(),t=Object(o.i)().id,n=L();Object(c.useEffect)((function(){n(xt())}),[]);var i=U((function(e){return e.ingredients})).items.find((function(e){return e._id===t}));return Object(y.jsx)(y.Fragment,{children:i?Object(y.jsx)(ie,{onClose:function(){e.goBack()},children:Object(y.jsx)(Ee,{ingredient:i})}):""})};var ht=function(){var e,t=L();i.a.useEffect((function(){t(xt())}),[]);var n=Object(o.h)(),c=null===(e=n.state)||void 0===e?void 0:e.background;return Object(y.jsxs)(w,{children:[Object(y.jsx)(T,{}),Object(y.jsxs)(o.d,{location:c||n,children:[Object(y.jsx)(o.b,{path:"/register",exact:!0,children:Object(y.jsx)(ot,{})}),Object(y.jsx)(o.b,{path:"/feed",children:Object(y.jsx)(_t,{})}),Object(y.jsx)(o.b,{path:"/login",exact:!0,children:Object(y.jsx)(De,{})}),Object(y.jsx)(o.b,{path:"/forgot-password",exact:!0,children:Object(y.jsx)(ye,{})}),Object(y.jsx)(o.b,{path:"/reset-password",exact:!0,children:Object(y.jsx)(lt,{})}),Object(y.jsx)(Be,{path:"/profile",children:Object(y.jsx)(rt,{})}),Object(y.jsx)(o.b,{path:"/ingredients/:id",exact:!0,children:Object(y.jsx)(Se,{})}),Object(y.jsx)(o.b,{path:"/",exact:!0,children:Object(y.jsx)(fe,{})})]}),c&&Object(y.jsx)(o.b,{path:"/ingredients/:id",children:Object(y.jsx)(ft,{})})]})},vt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,196)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))},gt=n(28),yt=n(91),Nt={bun:null,ingredients:[]},wt={request:!1,failed:!1,items:[]},Et={request:!1,failed:!1,show_info:!1,info:null},kt="SHOW_MODAL",Ct="HIDE_MODAL",St="SET_INGREDIENT",Tt={showModal:!1,ingredient:{}},It={wsConnected:!1,cntToday:0,cntAll:0,body:[]},Dt=Object(gt.b)({burger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(l.a)(Object(l.a)({},e),{},{bun:t.ingredient});case z:var n=e.ingredients;return n.push(t.ingredient),Object(l.a)(Object(l.a)({},e),{},{ingredients:n});case V:var c=Object(R.a)(e.ingredients),i=c[t.dragIndex];return c.splice(t.dragIndex,1),c.splice(t.hoverIndex,0,i),Object(l.a)(Object(l.a)({},e),{},{ingredients:c});case X:return Object(l.a)(Object(l.a)({},e),{},{ingredients:Object(R.a)(e.ingredients.filter((function(e,n){return n!==t.index})))});default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return Object(l.a)(Object(l.a)({},e),{},{request:!0,failed:!1});case pt:return Object(l.a)(Object(l.a)({},e),{},{items:t.items,request:!1,failed:!1});case Ot:return Object(l.a)(Object(l.a)({},e),{},{request:!1,failed:!0});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(l.a)(Object(l.a)({},e),{},{show_info:!0});case je:return Object(l.a)(Object(l.a)({},e),{},{show_info:!1});case oe:return Object(l.a)(Object(l.a)({},e),{},{request:!0,failed:!1});case le:return Object(l.a)(Object(l.a)({},e),{},{info:t.info,request:!1,failed:!1});case de:return Object(l.a)(Object(l.a)({},e),{},{info:null,request:!1,failed:!0});default:return e}},viewIngredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt:return Object(l.a)(Object(l.a)({},e),{},{showModal:!0});case Ct:return Object(l.a)(Object(l.a)({},e),{},{showModal:!1});case St:return Object(l.a)(Object(l.a)({},e),{},{ingredient:t.ingredient});default:return e}},ws:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return Object(l.a)({},e);case ze:return Object(l.a)(Object(l.a)({},e),{},{wsConnected:!0});case Xe:return Object(l.a)(Object(l.a)({},e),{},{wsConnected:!1,error:t.event});case Ve:return Object(l.a)(Object(l.a)({},e),{},{body:t.data,cntAll:t.cntAll,cntToday:t.cntToday});case Ye:return Object(l.a)(Object(l.a)({},e),{},{wsConnected:!1});default:return e}}}),Rt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||gt.c)(Object(gt.a)(yt.a,(function(e){var t=null;return function(n){return function(c){var i,r=e.dispatch;c.type===He&&(t=new WebSocket(c.url)),c.type===We&&(null===(i=t)||void 0===i||i.close()),t&&(t.onopen=function(e){r(function(e){return{type:ze,event:e}}(e))},t.onerror=function(e){r(function(e){return{type:Xe,event:e}}(e))},t.onmessage=function(e){var t=e.data,n=JSON.parse(t);r(function(e,t,n){return{type:Ve,data:e,cntAll:n,cntToday:t}}(n.orders,n.totalToday,n.total))},t.onclose=function(e){r(function(e){return{type:Ye,event:e}}(e))}),n(c)}}}))),Pt=Object(gt.d)(Dt,Rt);a.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(B.a,{store:Pt,children:Object(y.jsx)(S.a,{children:Object(y.jsx)(ht,{})})})}),document.getElementById("root")),vt()},20:function(e,t,n){e.exports={content:"burger-ingredients_content__1rMpp",tab:"burger-ingredients_tab__1Ru1Z mb-10",list_wrap:"burger-ingredients_list_wrap__tSwBa ml-4 pr-4",list:"burger-ingredients_list__HZyi9",item:"burger-ingredients_item__3x5fV",item_image:"burger-ingredients_item_image__2NGHO mb-1",item_price:"burger-ingredients_item_price__kZIhd mb-1 text text_type_digits-default",item_name:"burger-ingredients_item_name__21F2n text text_type_main-default",link:"burger-ingredients_link__2-zFo"}},23:function(e,t,n){e.exports={main:"feed_main__3gURw",container:"feed_container__3Zlhe",grid_stats:"feed_grid_stats__3YeSe",content:"feed_content__9ySNd",list_wrap:"feed_list_wrap__e38Dd pr-4",info_order:"feed_info_order__U4vI4",link:"feed_link__YpvGa"}},29:function(e,t,n){e.exports={item:"order-small_item__3EThH",info:"order-small_info__3q1V4",info_price:"order-small_info_price__1cgSW",right:"order-small_right__ynDfq",img_preview:"order-small_img_preview__WegTW",list_ingr:"order-small_list_ingr__387mp"}},32:function(e,t,n){e.exports={content:"order-detail_content__3ISf4 mt-30 mb-30",order_num:"order-detail_order_num__19o6S text text_type_digits-large",order_num_description:"order-detail_order_num_description__2qHDg pt-8 text text_type_main-medium",order_status_icon:"order-detail_order_status_icon__BeiYx mt-10 mb-10",order_status:"order-detail_order_status__1VDAt text text_type_main-default",order_status_description:"order-detail_order_status_description__kuSgf pt-2 text text_type_main-default"}},33:function(e,t,n){e.exports={content:"register_content__3FBxM",title:"register_title__1YKBQ text text_type_main-medium",field:"register_field__qkDiu",link:"register_link__2XLtm"}},35:function(e,t,n){e.exports={img_preview:"order-info_img_preview__2k8GE",item:"order-info_item__AxHy8",item_info:"order-info_item_info__2hpel",footer:"order-info_footer__2VeuG",list_items:"order-info_list_items__2ES_1 pr-4"}},44:function(e,t,n){e.exports={content:"forgot-password_content__dCYfM",title:"forgot-password_title__2-1yB text text_type_main-medium",field:"forgot-password_field__1uXdg",link:"forgot-password_link__1xRFL"}},56:function(e,t,n){e.exports={modal:"modal_modal__1DF1f",content:"modal_content__1tQ-X",close:"modal_close__1Iez6"}},70:function(e,t,n){e.exports={main:"index_main__2LwEl",container:"index_container__6w4GD"}},8:function(e,t,n){e.exports={main:"profile_main__qGy5r",container:"profile_container__2BbXp",menu:"profile_menu__xxfx5",content:"profile_content__3vLfG p-3",link:"profile_link__1-1p8 text text_type_main-medium pt-5 pb-5",active:"profile_active__187xt",field:"profile_field__yCAuS",list_wrap:"profile_list_wrap__bsY1d pr-4",link_clear:"profile_link_clear__3ckuA",info_order:"profile_info_order__PT0L3"}},88:function(e,t,n){e.exports={modal_overlay:"modal-overlay_modal_overlay__1H0v3"}},90:function(e,t,n){e.exports={center:"ingredients_center__1YsyZ"}},98:function(e,t,n){}},[[188,1,2]]]);
//# sourceMappingURL=main.a56b13ee.chunk.js.map